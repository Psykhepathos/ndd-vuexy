# ============================================================================
# TEMPLATE PARA PRODUCAO - Apache com Alias /valepedagio
# ============================================================================
# 1. Copie este arquivo para .env no servidor
# 2. Preencha os valores marcados com [OBRIGATORIO]
# 3. Descomentar RewriteBase /valepedagio no public/.htaccess
# 4. Execute: php artisan key:generate && php artisan migrate
# ============================================================================

APP_NAME="NDD Vuexy"
APP_ENV=production
APP_KEY=                                    # [OBRIGATORIO] Gerar com: php artisan key:generate
APP_DEBUG=false

# ============================================================================
# URL Configuration - CRITICO para subdiretorio
# ============================================================================
APP_URL=http://SEU_SERVIDOR/valepedagio     # [OBRIGATORIO] Trocar SEU_SERVIDOR pelo IP/dominio
ASSET_URL=/valepedagio                      # OBRIGATORIO para assets em subdiretorio
VITE_API_BASE_URL=/valepedagio/api          # OBRIGATORIO para chamadas API do frontend

# ============================================================================
# Session Configuration - CRITICO para subdiretorio
# ============================================================================
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/valepedagio                   # OBRIGATORIO - deve ser igual ao Alias do Apache
SESSION_DOMAIN=null                         # null para usar o dominio da requisicao

# ============================================================================
# Sanctum / CORS - CRITICO para autenticacao
# ============================================================================
# Apenas o dominio/IP SEM o path do subdiretorio
SANCTUM_STATEFUL_DOMAINS=SEU_SERVIDOR       # [OBRIGATORIO] Ex: 192.168.19.34 ou meusite.com.br

# Origens permitidas para CORS (separadas por virgula)
# Em producao same-origin, geralmente nao precisa configurar
# CORS_ALLOWED_ORIGINS=http://SEU_SERVIDOR

# ============================================================================
# Locale
# ============================================================================
APP_LOCALE=pt_BR
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=pt_BR

# ============================================================================
# Database - SQLite para cache/sessoes (Laravel)
# ============================================================================
DB_CONNECTION=sqlite
DB_DATABASE=database/database.sqlite

# ============================================================================
# Cache & Queue
# ============================================================================
CACHE_STORE=database
QUEUE_CONNECTION=database
FILESYSTEM_DISK=local

# ============================================================================
# Logging
# ============================================================================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error                             # Producao: error (menos verbose)

# ============================================================================
# Progress OpenEdge Database [OBRIGATORIO]
# ============================================================================
PROGRESS_CONNECTION=odbc
PROGRESS_HOST=                              # [OBRIGATORIO] IP do servidor Progress
PROGRESS_DATABASE=                          # [OBRIGATORIO] Nome do database
PROGRESS_USERNAME=                          # [OBRIGATORIO]
PROGRESS_PASSWORD=                          # [OBRIGATORIO]
PROGRESS_PORT=13361
PROGRESS_DSN=
PROGRESS_JDBC_URL=
PROGRESS_DRIVER_PATH=

# ============================================================================
# Google Maps API [OBRIGATORIO para geocoding]
# ============================================================================
GOOGLE_MAPS_API_KEY=                        # [OBRIGATORIO]
VITE_GOOGLE_MAPS_API_KEY="${GOOGLE_MAPS_API_KEY}"

# Protecao de Quota
GOOGLE_MAPS_DAILY_LIMIT=1000
GOOGLE_MAPS_MONTHLY_BUDGET=1.00
GOOGLE_MAPS_PROTECTION_ENABLED=true

# ============================================================================
# SemParar SOAP API [OBRIGATORIO para Vale Pedagio]
# ============================================================================
SEMPARAR_WSDL_URL=https://app.viafacil.com.br/wsvp/ValePedagio?wsdl
SEMPARAR_CNPJ=                              # [OBRIGATORIO]
SEMPARAR_USER=                              # [OBRIGATORIO]
SEMPARAR_PASSWORD=                          # [OBRIGATORIO]
SEMPARAR_TIMEOUT=30
ALLOW_SOAP_PURCHASE=false                   # true para habilitar compras reais

# ============================================================================
# NDD Cargo API [OBRIGATORIO para VPO]
# ============================================================================
NDD_CARGO_ENVIRONMENT=producao              # homologacao ou producao
NDD_CARGO_CNPJ=                             # [OBRIGATORIO]
NDD_CARGO_TOKEN=                            # [OBRIGATORIO]
NDD_CARGO_PT_EMISSOR=

# Certificado Digital
NDD_CARGO_CERT_TYPE=pfx
NDD_CARGO_CERT_PASSWORD=                    # [OBRIGATORIO]

# Configuracoes
NDD_CARGO_VERSAO_LAYOUT=4.2.12.0
NDD_CARGO_TIMEOUT=60
NDD_CARGO_CACHE_ENABLED=true
NDD_CARGO_LOG_XML=false
NDD_CARGO_LOG_RESPONSES=true
NDD_CARGO_LOG_LEVEL=info

# ============================================================================
# Python Flask Service (PDF + WhatsApp) - Opcional
# ============================================================================
PYTHON_FLASK_URL=http://localhost:5001
PYTHON_FLASK_TIMEOUT=30

# ============================================================================
# Mail - Configurar para envio real em producao
# ============================================================================
MAIL_MAILER=smtp
MAIL_HOST=                                  # [OBRIGATORIO para emails]
MAIL_PORT=587
MAIL_USERNAME=                              # [OBRIGATORIO para emails]
MAIL_PASSWORD=                              # [OBRIGATORIO para emails]
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="ndd@suaempresa.com.br"
MAIL_FROM_NAME="${APP_NAME}"
MAIL_NOREPLY_ADDRESS=naoresponda@suaempresa.com.br

VITE_APP_NAME="${APP_NAME}"
